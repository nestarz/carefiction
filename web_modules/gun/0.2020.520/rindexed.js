!function(){function n(t){(t=t||{}).file=String(t.file||"radata");var e=null;try{t.indexedDB=t.indexedDB||indexedDB}catch(n){}try{if(!t.indexedDB||"file:"==location.protocol){var o={};return(r={}).put=function(n,t,e){o[n]=t,e(null,1)},r.get=function(n,t){t(null,o[n]||void 0)},console.log("Warning: No indexedDB exists to persist data to!"),r}}catch(n){}var r=function(){};return n[t.file]?(console.log("Warning: reusing same IndexedDB store and options as 1st."),n[t.file]):(n[t.file]=r,r.start=function(){var n=indexedDB.open(t.file,1);n.onupgradeneeded=function(n){n.target.result.createObjectStore(t.file)},n.onsuccess=function(){e=n.result},n.onerror=function(n){console.log(n||1)}},r.start(),r.put=function(n,o,i){if(e){var c=e.transaction([t.file],"readwrite"),u=c.objectStore(t.file),s=u.put(o,""+n);s.onsuccess=u.onsuccess=c.onsuccess=function(){i(null,1)},s.onabort=u.onabort=c.onabort=function(n){i(n||"put.tx.abort")},s.onerror=u.onerror=c.onerror=function(n){i(n||"put.tx.error")}}else setTimeout(function(){r.put(n,o,i)},1)},r.get=function(n,o){if(e){var i=e.transaction([t.file],"readonly").objectStore(t.file).get(""+n);i.onsuccess=function(){o(null,i.result)},i.onabort=function(n){o(n||4)},i.onerror=function(n){o(n||5)}}else setTimeout(function(){r.get(n,o)},9)},setInterval(function(){e&&e.close(),e=null,r.start()},15e3),r)}if("undefined"!=typeof window)(n.window=window).RindexedDB=n;else try{module.exports=n}catch(n){}try{(n.window.Gun||require("../gun")).on("create",function(t){this.to.next(t),t.opt.store=t.opt.store||n(t.opt)})}catch(n){}}()